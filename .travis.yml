language: go
sudo: required
dist: xenial
os:
  - linux
go:
  - "1.13"
install:
  - pwd
before_script:
  - pwd
  - export GOPATH=/home/travis/gopath/src/github.com/edidada/MIT-6.824-2020/src
addons:
  apt:
    update: true

env:
  - BUILD_TYPE=debug
 # - BUILD_TYPE=release
script:
  - cd src/main
  - go build -buildmode=plugin ../mrapps/wc.go
  - rm mr-out*
  - go run mrsequential.go wc.so pg*.txt
  - more mr-out-0
